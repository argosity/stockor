<% event = @invoice.event -%>
\font\Anton="[<%= @root_path.join('fonts', 'Anton.ttf').to_s %>]" at 22pt
\usepackage[boxed]{ticket}
\usepackage[export]{adjustbox}
\unitlength=1mm
\hoffset=-16.2mm
\voffset=-6.6mm
\ticketNumbers{1}{2}
\ticketSize{200}{60}     % in unitlength
\ticketDistance{0}{10}    % in unitlength

% load misc stuff
\usepackage{graphicx}
\usepackage{rotating}
\usepackage[]{qrcode}

\renewcommand{\ticketdefault}{%
  \put(49,45){
<% if (logo = @invoice.location.get_logo).present? -%>
      \raisebox{-1mm}{\includegraphics[height=8mm]{<%= logo.file[:original].download.path %>}}
<% end -%>
\textsf{\Huge presents:}
   }%

  \put(1,20){\begin{sideways}\Large Admit 1\end{sideways}}%
  \put(50,35){\Anton <%= event.title %>}
<% if event.sub_title -%>
  \put(50,27){\large <%= event.sub_title %>}
<% end -%>
<% if event.info -%>
  \put(49,17){
    \parbox{100mm}{\normalsize\raggedright <%= break_lines event.info %>}%
   }
<% end -%>
<% if event.starts_at -%>
  \put(195,60){\rotatebox{270}{\parbox{60mm}{\centering\large <%=q event.starts_at.strftime("%I:%M%P %a %b #{event.starts_at.day.ordinalize}, %Y") %>}}}%
<% end -%>
<% if event.venue -%>
  \put(95,1){\parbox{100mm}{\small\raggedleft <%=q event.venue %>}}
<% end -%>
<% if (photo = event.photo).present? -%>
\put(120, 5){
 \makebox[70mm][r]{
    \includegraphics[height=50mm]{<%= photo.file[:original].download.path %>}
 }
}
<% end -%>
}

\newcommand{\filelabel}[4]{\ticket{%
    \put(5,30){
      \qrcode[height=40mm]{#2-#1}
    }%
    \put(4,5){\parbox{40mm}{\centering\large Ticket #3-#1}}
}}


\begin{document}

Hi how are you this day

Please respnd asasp

toddles

\filelabel{1}{<%= @invoice.hash_code %>}{<%= @invoice.visible_id %>}
  {<%= @invoice.lines.first.description %>}
\filelabel{2}{<%= @invoice.hash_code %>}{<%= @invoice.visible_id %>}
  {<%= @invoice.lines.first.description %>}
\filelabel{3}{<%= @invoice.hash_code %>}{<%= @invoice.visible_id %>}
  {<%=q @invoice.lines.first.description %>}
\end{document}
